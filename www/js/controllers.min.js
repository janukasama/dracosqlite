angular.module("starter.controllers",[]).controller("DashCtrl",function(){}).controller("ChatsCtrl",function(e,t,n){e.chats=n.all(),e.remove=function(e){n.remove(e)},e.initiate=function(){function e(e){return e.replace(/:|-/g,"")}var t="ws://localhost:61614",n="/topic/chat.*";client=Stomp.client(t);var o={"activemq.subscriptionName":"thuan"};client.connect(n,function(t){var n=e(t.headers.session+"");client.subscribe("/topic/chat.*",function(t){console.debug(t);var o=e(t.headers["message-id"]+"");if(o.indexOf(n)>-1){var c=t.body+('<p> <font size="1" color="black">'+(new Date).toLocaleString()+"</font></p>");$('<div class="msg_b"> <div class="profile-pic-right"><img src="https://cdn1.iconfinder.com/data/icons/user-pictures/101/malecostume-512.png"></div> <p style="color:black;">'+c+"</p> </div>").insertBefore(".enter-msg")}else{var c=t.body+('<p> <font size="1" color="white">'+(new Date).toLocaleString()+"</font></p>");$('<div class="msg_a"> <div class="profile-pic-left"> <img  src="https://s.yimg.com/wv/images/a9696dca20fc0835ff82d7e0c7fc3a91_96.png"></div> <p style="color:white;">'+c+"</p> </div>").insertBefore(".enter-msg")}},o)}),console.log("successfully initiated")},e.sendMessage=function(){var e=$("#user_input").val();""!=e&&(client.send("/topic/chat.*",{},e),$("#user_input").val("")),console.log("message submitted")},e.disconnect=function(){client.disconnect(function(){client.send("/topic/chat.thuan",{}),console.log("connection disconnected!"),t.goBack()})}}).controller("ChatDetailCtrl",function(e,t,n){e.chat=n.get(t.chatId)}).controller("AccountCtrl",function(e){e.settings={enableFriends:!0}});
//# sourceMappingURL=controllers.min.js.map